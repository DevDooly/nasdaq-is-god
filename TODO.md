# 텔레그램 증시 봇 개발 작업 순서

이 문서는 증시 요약 알림 봇을 개발하기 위한 단계별 작업 순서를 정의합니다.

## 1단계: 환경 설정 및 기본 구조
- [x] **텔레그램 봇 생성**:
    - [x] 텔레그램에서 `BotFather`를 통해 새로운 봇을 생성하고 API 토큰 발급받기.
    - [x] 발급받은 토큰을 안전한 곳에 저장하기 (예: 환경 변수, `.env` 파일).
- [x] **프로젝트 환경 구성**:
    - [x] Python 가상 환경 설정 (예: `python -m venv venv`).
    - [x] 필요한 라이브러리 설치 (`python-telegram-bot`, `yfinance`, `requests`).
    - [x] `requirements.txt` 파일 생성 및 관리.
- [x] **기본 봇 코드 작성**:
    - [x] 메인 파이썬 스크립트 파일 생성 (예: `main.py`).
    - [x] `/start`, `/help`와 같은 기본 명령어 핸들러 구현.
    - [x] 봇이 정상적으로 시작되고 메시지에 응답하는지 테스트.

## 2단계: 금융 데이터 조회 기능 구현
- [x] **데이터 소스 API 연동 모듈 생성**:
    - [x] `yfinance` 라이브러리를 사용하여 주식 및 지수 데이터를 가져오는 함수 구현.
- [x] **주요 지수 조회 기능**:
    - [x] S&P 500 (`^GSPC`), 나스닥 (`^IXIC`), VIX (`^VIX`) 지수 데이터를 가져오는 기능 구현.
- [x] **환율 정보 조회 기능**:
    - [x] 환율 API 또는 `yfinance`를 통해 USD/KRW 등 주요 환율 정보를 가져오는 기능 구현.
- [x] **개별 종목 조회 기능**:
    - [x] 사용자가 `/stock <종목코드>` 형식으로 요청 시, 해당 종목의 현재가, 등락률, 거래량 등 상세 정보를 반환하는 기능 구현.

## 3단계: 메시지 포매팅 및 명령어 연동
- [x] **메시지 포매팅**:
    - [x] 조회된 금융 데이터를 가독성 좋은 포맷(예: Markdown)으로 변환하는 함수 구현.
- [x] **명령어 핸들러 연동**:
    - [x] `2단계`에서 구현한 각 데이터 조회 기능을 텔레그램 명령어 핸들러와 연동.
    - [x] `/sp500`, `/nasdaq`, `/vix`, `/exchange`, `/stock` 명령어 구현 및 테스트.

## 4단계: 고급 기능 및 자동화
- [ ] **정기 알림 기능**:
    - [ ] 매일 정해진 시간에 주요 증시 정보를 요약하여 특정 채팅방이나 사용자에게 자동으로 메시지를 보내는 기능 구현 (스케줄링).
- [ ] **사용자 맞춤 기능 (선택 사항)**:
    - [ ] 사용자가 포트폴리오를 등록하고 관리하는 기능.
    - [ ] 특정 종목의 가격 변동 알림을 설정하는 기능.

## 5단계: 배포 및 유지보수
- [x] **로깅 및 에러 핸들링**:
    - [x] 봇의 동작 상황과 에러를 기록하기 위한 로깅(logging) 설정.
    - [x] API 요청 실패 등 예외 상황에 대한 처리 로직 추가.
- [ ] **배포**:
    - [ ] Docker를 사용하여 컨테이너화 (Dockerfile 작성).
    - [ ] 클라우드 서버(AWS, GCP 등) 또는 개인 서버에 봇 배포.
- [ ] **모니터링**:
    - [ ] 봇이 중단 없이 잘 동작하는지 모니터링하고, 문제 발생 시 알림을 받는 체계 구축.